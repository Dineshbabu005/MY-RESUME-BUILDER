// Project Overview: A personalized resume generator tool with auto-filled details, dynamic sections, and ATS score calculation.
// Technologies: React (Frontend), Python (Backend for ATS score), Flask (API), CSS, HTML.

// src/index.html (Landing Page)
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Generator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="root"></div>
    <script src="index.js" type="module"></script>
</body>
</html>

/* src/styles.css (Styling) */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(to right, #4facfe, #00f2fe);
    color: #333;
}
.container {
    max-width: 800px;
    margin: auto;
    padding: 20px;
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}
textarea, input, button {
    display: block;
    width: 100%;
    margin: 10px 0;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
}
button {
    background-color: #007BFF;
    color: white;
    font-size: 16px;
    cursor: pointer;
}
button:hover {
    background-color: #0056b3;
}

/* src/index.js (React Application Entry) */
import React, { useState } from "react";
import ReactDOM from "react-dom";
import ResumeForm from "./ResumeForm";

function App() {
    return (
        <div className="container">
            <h1>Personalized Resume Generator</h1>
            <ResumeForm />
        </div>
    );
}

ReactDOM.render(<App />, document.getElementById("root"));

/* src/ResumeForm.js */
import React, { useState } from "react";

function ResumeForm() {
    const [name, setName] = useState("Dineshbabu Purushothaman");
    const [email, setEmail] = useState("your.email@example.com");
    const [phone, setPhone] = useState("+1234567890");
    const [sections, setSections] = useState([
        { title: "Skills", content: "Python, SQL, Power BI" },
        { title: "Experience", content: "Fresher" },
    ]);

    const addSection = () => setSections([...sections, { title: "", content: "" }]);
    const updateSection = (index, field, value) => {
        const newSections = [...sections];
        newSections[index][field] = value;
        setSections(newSections);
    };
    const removeSection = (index) => {
        const newSections = sections.filter((_, i) => i !== index);
        setSections(newSections);
    };

    const handleDownload = () => {
        const resumeContent = `Name: ${name}\nEmail: ${email}\nPhone: ${phone}\n${sections
            .map((s) => `${s.title}:\n${s.content}`)
            .join("\n\n")}`;
        const blob = new Blob([resumeContent], { type: "text/plain" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "resume.txt";
        link.click();
    };

    return (
        <div>
            <h2>Fill in your details:</h2>
            <input
                type="text"
                value={name}
                onChange={(e) => setName(e.target.value)}
                placeholder="Name"
            />
            <input
                type="email"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                placeholder="Email"
            />
            <input
                type="text"
                value={phone}
                onChange={(e) => setPhone(e.target.value)}
                placeholder="Phone"
            />
            <h3>Sections:</h3>
            {sections.map((section, index) => (
                <div key={index}>
                    <input
                        type="text"
                        value={section.title}
                        onChange={(e) => updateSection(index, "title", e.target.value)}
                        placeholder="Section Title"
                    />
                    <textarea
                        value={section.content}
                        onChange={(e) => updateSection(index, "content", e.target.value)}
                        placeholder="Section Content"
                    ></textarea>
                    <button onClick={() => removeSection(index)}>Remove Section</button>
                </div>
            ))}
            <button onClick={addSection}>Add Section</button>
            <button onClick={handleDownload}>Download Resume</button>
        </div>
    );
}

export default ResumeForm;

/* Backend Integration (Python Flask) for ATS Score) */
from flask import Flask, request, jsonify

app = Flask(__name__)

def calculate_ats_score(resume, job_description):
    resume_words = set(resume.split())
    job_words = set(job_description.split())
    matches = resume_words.intersection(job_words)
    return len(matches) / len(job_words) * 100

@app.route("/ats-score", methods=["POST"])
def ats_score():
    data = request.get_json()
    resume = data.get("resume")
    job_description = data.get("job_description")
    score = calculate_ats_score(resume, job_description)
    return jsonify({ "score": score })

if __name__ == "__main__":
    app.run(debug=True)

/* ATS Score Usage in React */
function checkATSScore(resume, jobDescription) {
    fetch("http://localhost:5000/ats-score", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ resume, job_description: jobDescription })
    })
        .then((response) => response.json())
        .then((data) => alert(`Your ATS Score: ${data.score}%`));
}
